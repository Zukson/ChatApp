


<div *ngIf="messages.length==0 && !isLoading" style="width: 100%; margin-top: 30px; margin-left:3% ; font-size: 25px; text-align: center;" >Write first Message</div>
<ng-container *ngIf="!isLoading">
  <div id="message"   *ngFor="let message of this.messages " >

  <ng-container *ngIf="message.ChatUser">
      <div class="messageHeader " *ngIf="message.ChatUser"><ngx-avatar  [src]="message.ChatUser.UserThumbnail" [size]="40"></ngx-avatar> <h2>{{message.ChatUser.Username}}</h2> <span class="date">{{message.SendDate}}</span></div> 
      <div class="messageBody">{{message.Text}}</div>
  </ng-container>
   
</div>
</ng-container>

  

<div class="messageInput">
    <mat-form-field class="form">
        <mat-label>Send message</mat-label>
        <input matInput type="text"  [(ngModel)]="text">
        <button mat-button *ngIf="text" matSuffix mat-icon-button aria-label="Clear" (click)="text=''">
          <mat-icon>close</mat-icon>
        </button>
        
      </mat-form-field>
     <div class="sendIcon"> <button mat-mini-fab color="primary" (click)="sendMessage()">
        <mat-icon>send</mat-icon>
      </button></div>
      
</div>